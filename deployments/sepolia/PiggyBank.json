{
  "address": "0xFEC6070Ce3ae064ADD592A4502a0439ee9351DB8",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PiggyBank_InvalidAmount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "fund",
          "type": "uint256"
        }
      ],
      "name": "DepositAmount",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "fund",
          "type": "uint256"
        }
      ],
      "name": "WithDrawAmount",
      "type": "event"
    },
    {
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "inputs": [],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getDepositer",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTimer",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_year",
          "type": "uint256"
        }
      ],
      "name": "setTimer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "transactionHash": "0x955c07b001ce6004e90cb08d88263e9cf8ce3a6ba289e30c9caa095d286cf148",
  "receipt": {
    "to": null,
    "from": "0x2952C93a5aEf5ca3342DeC5fC1FCa1890cEBE5be",
    "contractAddress": "0xFEC6070Ce3ae064ADD592A4502a0439ee9351DB8",
    "transactionIndex": 81,
    "gasUsed": "601569",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x26840226c2f0e45d98cfcd7bb96d59024a818e55051c3335797ed5f048b5e540",
    "transactionHash": "0x955c07b001ce6004e90cb08d88263e9cf8ce3a6ba289e30c9caa095d286cf148",
    "logs": [],
    "blockNumber": 5053629,
    "cumulativeGasUsed": "16142022",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 2,
  "solcInputHash": "bc4ed26ca6a38f59484e53e1c3064ab8",
  "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"PiggyBank_InvalidAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fund\",\"type\":\"uint256\"}],\"name\":\"DepositAmount\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fund\",\"type\":\"uint256\"}],\"name\":\"WithDrawAmount\",\"type\":\"event\"},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getDepositer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTimer\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_year\",\"type\":\"uint256\"}],\"name\":\"setTimer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PiggyBank.sol\":\"PiggyBank\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/PiggyBank.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.10;\\n\\nimport {Year} from \\\"./YearCalculator.sol\\\";\\n\\nerror PiggyBank_NotOwner();\\nerror PiggyBank_InvalidAmount(uint256 amount);\\n\\ncontract PiggyBank{\\n    using Year for uint256;\\n\\n    address[] private s_depositers;\\n    address private immutable i_owner;\\n    mapping(address => uint256) private s_addressToAmountDeposited;\\n    mapping(address => uint256) private s_addressToTimer;\\n\\n    event DepositAmount(address indexed user, uint256 fund);\\n    event WithDrawAmount(address indexed user, uint256 fund); \\n\\n    modifier onlyOwner(){\\n        if(msg.sender != i_owner){\\n            revert PiggyBank_NotOwner();\\n        }\\n        _;\\n    }\\n\\n    constructor(){\\n        i_owner = msg.sender;\\n    }\\n\\n    function setTimer(uint256 _year) external{\\n        s_addressToTimer[msg.sender] = _year.convertToBlockYear();\\n    }\\n\\n    function deposit() public payable{\\n        if(msg.value <= 0){\\n            revert PiggyBank_InvalidAmount(msg.value);\\n        }\\n        \\n        s_depositers.push(msg.sender);\\n        s_addressToAmountDeposited[msg.sender] += msg.value;\\n        \\n        emit DepositAmount(msg.sender, msg.value);\\n    }\\n\\n    function withdraw() external {\\n        require(block.timestamp >= s_addressToTimer[msg.sender], \\\"should be more than or equal to the set time\\\");\\n\\n        uint256 fund = s_addressToAmountDeposited[msg.sender];\\n        s_addressToAmountDeposited[msg.sender] = 0;\\n        s_addressToTimer[msg.sender] = 0;\\n\\n        (bool callSuccess,) = payable(msg.sender).call{value: fund}(\\\"\\\");\\n        require(callSuccess, \\\"Call Failed\\\");\\n\\n        emit WithDrawAmount(msg.sender, fund);\\n    }\\n\\n    function getBalance() external view returns (uint256){\\n        return s_addressToAmountDeposited[msg.sender];\\n    }\\n\\n    function getTimer() external view returns (uint256){\\n        return s_addressToTimer[msg.sender];\\n    }\\n\\n    function getOwner() external view returns (address){\\n        return i_owner;\\n    }\\n\\n    function getDepositer(uint256 _index) external view returns (address) {\\n        return s_depositers[_index];\\n    }\\n    \\n    receive() external payable{\\n        deposit();\\n    }\\n\\n    fallback() external payable{\\n        deposit();\\n    }\\n}\",\"keccak256\":\"0xf8a44e8a4730b1c63047fcadeee4a01dd66665b0fe94ab22674f659b59c92409\",\"license\":\"MIT\"},\"contracts/YearCalculator.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.10;\\n\\nlibrary Year{\\n    function convertToBlockYear(uint256 _year) internal view returns(uint256 blockYear){\\n        uint256 secondInYear = 365 * 24 * 60 * 60;\\n        blockYear = block.timestamp + (_year * secondInYear);\\n    }\\n}\",\"keccak256\":\"0x045d83ba4a813221795273b77fbc325926e9c555e19805c96df4c04cb9aed8ff\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a060405234801561001057600080fd5b503373ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250506080516109f3610060600039600061057c01526109f36000f3fe6080604052600436106100745760003560e01c8063a7203d341161004e578063a7203d34146100fa578063b976bd1714610125578063d0e30db01461014e578063dbdb1df01461015857610083565b806312065fe01461008d5780633ccfd60b146100b8578063893d20e8146100cf57610083565b3661008357610081610195565b005b61008b610195565b005b34801561009957600080fd5b506100a26102e3565b6040516100af91906106bf565b60405180910390f35b3480156100c457600080fd5b506100cd61032a565b005b3480156100db57600080fd5b506100e4610578565b6040516100f1919061071b565b60405180910390f35b34801561010657600080fd5b5061010f6105a0565b60405161011c91906106bf565b60405180910390f35b34801561013157600080fd5b5061014c60048036038101906101479190610767565b6105e7565b005b610156610195565b005b34801561016457600080fd5b5061017f600480360381019061017a9190610767565b610636565b60405161018c919061071b565b60405180910390f35b600034116101da57346040517f08c31a5f0000000000000000000000000000000000000000000000000000000081526004016101d191906106bf565b60405180910390fd5b6000339080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555034600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461028c91906107c3565b925050819055503373ffffffffffffffffffffffffffffffffffffffff167febe6f9eb2e2caa9381ab5de579654535c1eb1d650ae98c7cb943a774573313f3346040516102d991906106bf565b60405180910390a2565b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020544210156103ac576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103a39061087a565b60405180910390fd5b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490506000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555060003373ffffffffffffffffffffffffffffffffffffffff16826040516104a0906108cb565b60006040518083038185875af1925050503d80600081146104dd576040519150601f19603f3d011682016040523d82523d6000602084013e6104e2565b606091505b5050905080610526576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051d9061092c565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff167f86103aca9d06378ad5eb858d2ee726267f69628ca4ff59597196865412b633878360405161056c91906106bf565b60405180910390a25050565b60007f0000000000000000000000000000000000000000000000000000000000000000905090565b6000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b6105f08161067d565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555050565b600080828154811061064b5761064a61094c565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000806301e1338090508083610693919061097b565b4261069e91906107c3565b915050919050565b6000819050919050565b6106b9816106a6565b82525050565b60006020820190506106d460008301846106b0565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610705826106da565b9050919050565b610715816106fa565b82525050565b6000602082019050610730600083018461070c565b92915050565b600080fd5b610744816106a6565b811461074f57600080fd5b50565b6000813590506107618161073b565b92915050565b60006020828403121561077d5761077c610736565b5b600061078b84828501610752565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006107ce826106a6565b91506107d9836106a6565b92508282019050808211156107f1576107f0610794565b5b92915050565b600082825260208201905092915050565b7f73686f756c64206265206d6f7265207468616e206f7220657175616c20746f2060008201527f746865207365742074696d650000000000000000000000000000000000000000602082015250565b6000610864602c836107f7565b915061086f82610808565b604082019050919050565b6000602082019050818103600083015261089381610857565b9050919050565b600081905092915050565b50565b60006108b560008361089a565b91506108c0826108a5565b600082019050919050565b60006108d6826108a8565b9150819050919050565b7f43616c6c204661696c6564000000000000000000000000000000000000000000600082015250565b6000610916600b836107f7565b9150610921826108e0565b602082019050919050565b6000602082019050818103600083015261094581610909565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6000610986826106a6565b9150610991836106a6565b925082820261099f816106a6565b915082820484148315176109b6576109b5610794565b5b509291505056fea264697066735822122097c51cb2e1479f4f866dca48a0defb0abef755de0b4b886ecedbe226fcdcfb0d64736f6c63430008130033",
  "deployedBytecode": "0x6080604052600436106100745760003560e01c8063a7203d341161004e578063a7203d34146100fa578063b976bd1714610125578063d0e30db01461014e578063dbdb1df01461015857610083565b806312065fe01461008d5780633ccfd60b146100b8578063893d20e8146100cf57610083565b3661008357610081610195565b005b61008b610195565b005b34801561009957600080fd5b506100a26102e3565b6040516100af91906106bf565b60405180910390f35b3480156100c457600080fd5b506100cd61032a565b005b3480156100db57600080fd5b506100e4610578565b6040516100f1919061071b565b60405180910390f35b34801561010657600080fd5b5061010f6105a0565b60405161011c91906106bf565b60405180910390f35b34801561013157600080fd5b5061014c60048036038101906101479190610767565b6105e7565b005b610156610195565b005b34801561016457600080fd5b5061017f600480360381019061017a9190610767565b610636565b60405161018c919061071b565b60405180910390f35b600034116101da57346040517f08c31a5f0000000000000000000000000000000000000000000000000000000081526004016101d191906106bf565b60405180910390fd5b6000339080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555034600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461028c91906107c3565b925050819055503373ffffffffffffffffffffffffffffffffffffffff167febe6f9eb2e2caa9381ab5de579654535c1eb1d650ae98c7cb943a774573313f3346040516102d991906106bf565b60405180910390a2565b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020544210156103ac576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103a39061087a565b60405180910390fd5b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490506000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555060003373ffffffffffffffffffffffffffffffffffffffff16826040516104a0906108cb565b60006040518083038185875af1925050503d80600081146104dd576040519150601f19603f3d011682016040523d82523d6000602084013e6104e2565b606091505b5050905080610526576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051d9061092c565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff167f86103aca9d06378ad5eb858d2ee726267f69628ca4ff59597196865412b633878360405161056c91906106bf565b60405180910390a25050565b60007f0000000000000000000000000000000000000000000000000000000000000000905090565b6000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b6105f08161067d565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555050565b600080828154811061064b5761064a61094c565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000806301e1338090508083610693919061097b565b4261069e91906107c3565b915050919050565b6000819050919050565b6106b9816106a6565b82525050565b60006020820190506106d460008301846106b0565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610705826106da565b9050919050565b610715816106fa565b82525050565b6000602082019050610730600083018461070c565b92915050565b600080fd5b610744816106a6565b811461074f57600080fd5b50565b6000813590506107618161073b565b92915050565b60006020828403121561077d5761077c610736565b5b600061078b84828501610752565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006107ce826106a6565b91506107d9836106a6565b92508282019050808211156107f1576107f0610794565b5b92915050565b600082825260208201905092915050565b7f73686f756c64206265206d6f7265207468616e206f7220657175616c20746f2060008201527f746865207365742074696d650000000000000000000000000000000000000000602082015250565b6000610864602c836107f7565b915061086f82610808565b604082019050919050565b6000602082019050818103600083015261089381610857565b9050919050565b600081905092915050565b50565b60006108b560008361089a565b91506108c0826108a5565b600082019050919050565b60006108d6826108a8565b9150819050919050565b7f43616c6c204661696c6564000000000000000000000000000000000000000000600082015250565b6000610916600b836107f7565b9150610921826108e0565b602082019050919050565b6000602082019050818103600083015261094581610909565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6000610986826106a6565b9150610991836106a6565b925082820261099f816106a6565b915082820484148315176109b6576109b5610794565b5b509291505056fea264697066735822122097c51cb2e1479f4f866dca48a0defb0abef755de0b4b886ecedbe226fcdcfb0d64736f6c63430008130033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 15,
        "contract": "contracts/PiggyBank.sol:PiggyBank",
        "label": "s_depositers",
        "offset": 0,
        "slot": "0",
        "type": "t_array(t_address)dyn_storage"
      },
      {
        "astId": 21,
        "contract": "contracts/PiggyBank.sol:PiggyBank",
        "label": "s_addressToAmountDeposited",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 25,
        "contract": "contracts/PiggyBank.sol:PiggyBank",
        "label": "s_addressToTimer",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_uint256)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_address)dyn_storage": {
        "base": "t_address",
        "encoding": "dynamic_array",
        "label": "address[]",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}